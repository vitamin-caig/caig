         SPRITES GENERATOR v.5.0          BY REAL SOFTWARE'1998                 Hi all!  Вот решил по случаю выхода REAL SOFTWARECOLLECTION тряхнуть старину SGEN. Предыду-щая  его версия была выпущена уже довольнотаки  давно, еще  под Trade Mark "NHG". Насегодняшний день существует немало различ-ных Sprite Maker'ов, и пользователей Spri-tes  Generator'а найдется не так уж много,разве  что в Бресте. Надеюсь что труды надновой версией были не напрасны и SG найдетсвоего  пользователя. Еще  одной  причинойповлиявшей  на выход новой версии являетсяразработанный  CYBEREX/RS  новый текстовыйредактор  REAL WORD, в последующих версияхкоторого будет возможность работы со спра-йтами  от  SG. Эту  версию я решил сделатьпод  128к, в наше время технического прог-ресса  сидеть  на  48к  просто неприлично.Итак, что же нового появилось в SG?√ Поддержка KEMPSTON MOUSE.√ Улучшенный интерфейс.√ Увеличенный буфер для спрайтов.√ Возможность вырезки спрайта с маской на-  рисованной вручную.√ Возможность  поместить  в экран спрайт с  маской резанной в автоматическом режиме,  для  последующей коррекции в графическом  редакторе.√ Хранение в памяти двух экранов.√ Возможность  загрузки  внешнего драйвера  принтера.√ Запись файлов по OVERWRITE.             Общие сведения о        программе Sprites Generator  Программа  генератор спрайтов предназна-чена для создания блоков спрайтов путем ихвырезки  из экранных файлов подготовленныхв  графическом  редакторе. Также эта прог-рамма пригодится для распечатки на принте-ре любого куска экрана. Спрайты  можно вы-резать с атрибутами и без, с автогенериру-емой или нарисованной маской. Блоки форми-руемые  SG,  могут  содержать  любые  типыспрайтов (с атрибутами  или  без, с маскойили без маски).  В  программе реализована полноценная об-работка блока спрайтов: вы сможете удалятьлюбые спрайты из создаваемого блока, прос-матривать  спрайты  и их параметры, сохра-нять  на  диске  любую  группу спрайтов изблока, или  их архив (спрайты с параметра-ми), соединять  архив  с имеющимися спрай-тами  в  памяти, помещать  спрайты в любоеместо экрана, и сохранять модифицированныйэкран на диске, а  также  распечатывать напринтере  созданные спрайты и (или) их па-раметры.  Sprites Generator пригодится также худо-жникам, когда  возникает необходимость на-ложить  одно изображение на другое по мас-ке. Для этого загрузите экран с накладыва-емым  рисунком,  вырежьте  его,  установивпредварительно нужный тип маски и атрибуты(если нужны). Далее грузите экран на кото-рый нужно наложить изображение, и помещае-те  вырезанный спрайт в нужное место экра-на, ну и конечно запишите на диск.         Краткое описание функций  Sprites  Generator  полностью написан нарусском  языке  и разобраться с ним вам несоставит  большого труда. Остановимся лишьна меню "Формат спрайтов", в котором можнозадать параметры вырезаемых спрайтов."Атрибуты"  - включение, выключение вырез-              ки спрайтов с атрибутами."Маска"       включение, выключение вырез-              ки спрайта с маской."Маска тип" - можно  выбрать  один из двух              типов  автоматической маски,              либо  "HAND"   для   вырезки              спрайта  с нарисованной мас-              кой. Подробности ниже."Размер"    - включение, выключение режима              вырезки  спрайта  с фиксиро-              ванным   размером,   который              предлагается ввести в откры-              вающемся окне.  Способы  обрисовки  объекта  для каждоготипа автоматически генерируемой маски изо-бражены  ниже, в большинстве случаев пред-почтителней использовать второй тип.   1) * * *     2)   *      * * *        * * *      * * *          *  При  вырезке спрайта с маской нарисован-ной  вручную, спрайт  маски  автоматическиберется со следующей позиции на экране, поэтой причине нельзя вырезать спрайт с мас-кой размером больше половины экрана, я ду-маю  спрайты  с маской таких размеров врядли кому-нибудь понадобятся, хотя в принци-пе, можно  сделать в таких случаях вырезкумаски со второго экрана.  Если у вас возникла необходимость подре-дактировать автоматически созданную маску,то необходимо переключиться в режим "HAND"и  поместить  в экран нужный спрайт, маскавпечатается на следующую позицию.  Для загрузки внешнего драйвера принтера,выберите  пункт  "Загружаемый драйвер", надиске  должен  находится  файл "DRIVER.C",стандарт по ZX-WORD'у. Если драйвер успеш-но считан то напротив этого пункта появит-ся отметка, в противном случае будет выда-но сообщение об ошибке на диске.  Встроенный  драйвер  ориентирован  на ПК"Байт 01", и работает с  EPSON - совмести-мыми  принтерами.  Используемые  им порты,приведены ниже:Проверка занятости #10  (16)Вывод данных       #30  (48)Стробирование      #70 (112)Программа поддерживает следующие интерфей-сы: Kempston, Mouse, Keyboard, Sinclair.      Структура архивов и вырезаемых                спрайтов.  Спрайты вырезаются в построчном формате,при  создании спрайта с маской, байт маскибудет  чередоваться с байтом спрайта, бла-годаря  этому вы сможете значительно уско-рить вывод спрайта с маской на экран.  Привырезке  спрайтов  с атрибутами, последниебудут располагаться перед спрайтом, всегдалучше  вывести  сначала  атрибуты, а затемспрайт.  Функция  сохранения архива спрайтов поз-волит вам хранить спрайты вместе с их дан-ными, что  позволит  их без проблем загру-зить  в  спрайт-генератор  для дальнейшегоиспользования.  Информация об формате соз-даваемого программой архива спрайтов: пос-ледний,  выгружается на диск с расширением"s",  в   первом  байте  файла  количествоспрайтов, далее  идут  параметры спрайтов,затем  4 свободных байта, а после них самиспрайты. Формат параметров спрайтов: 1 и 2байты ширина и высота, соответственно, 3-йбайт - множитель определяющий тип спрайта:8  -  без  атрибутов,  9  -  с атрибутами,16 - с маской без атрибутов, 17 - с маскойи атрибутами.      Поиск адреса спрайта в архиве  Иногда  бывает  удобнее  хранить в прог-рамме  таблицу спрайтов, особенно если всеони  разных  размеров.  Для этих целей вамнеобходимо просто переименовать расширениеархива  спрайтов  с "s" на "C" и использо-вать  в  своих программах. Например удобноиспользовать  архив в тексте с картинками:сам  архив  располагается  в  конце текста(можно  и в начале), а в самом тексте ста-вится  управляющий  код  и  номер спрайта.Предлагаемая подпрограммка позволит вам невникая в формат архива без проблем рассчи-тывать в нем адрес спрайта и его параметры;STABL -адрес архиваНа входе: в A-номер спрайта (1...255),задав номер последнего спрайта+1, выопределите начало свободной памяти.На выходе: HL-адрес спрайта, DE-длина;IX-таблица параметров:;(IX+0)-ширина, (IX+1)-высота, (IX+2)-типPRSN    LD      IX,STABL-2        PUSH    AF        LD      L,(IX+2)        LD      H,0        LD      D,H        LD      E,L        ADD     HL,HL        ADD     HL,DE        LD      DE,STABL+5        ADD     HL,DE        POP     AFPRSN1   INC     IX        INC     IX        INC     IX        PUSH    BC        PUSH    HL        LD      HL,0        PUSH    HL        LD      E,(IX+0)        LD      D,0        LD      B,(IX+1)PRSN2   ADD     HL,DE        DJNZ    PRSN2        LD      B,(IX+2)        EX      DE,HL        POP     HLPRSN3   ADD     HL,DE        DJNZ    PRSN3        EX      DE,HL        POP     HL        POP     BC        DEC     A        RET     Z        ADD     HL,DE        JR      PRSN1  Недопустимо  использование архивов в ди-намичных программах, так как расчет адресаспрайта  в  архиве  отнимает  процессорноевремя. В  таких случаях вам необходимо бу-дет  написать еще одну процедурку, котораяс использованием вышеприведенной сформиру-ет таблицу смещений спрайтов.  Программы использовавшиеся при написанииSprites generator'а 5.0: ZX-ASM3,  STS6.2,A.STUDIO, RC 1.6, HRUM 3.5i, LINKER.                         PAWEL/RS 11.11.98